<!DOCTYPE html>
<html>
<head>
    <style>
        table {
            border-collapse: collapse;
        }

        td {
            border: none;
            padding: 5px;
            text-align: center;
            cursor: pointer;
        }

        th {
            border: none;
            padding: 5px;
            text-align: center;
        }

        .selected {
            background-color: green;
            color: white;
        }

        .navigation {
            text-align: center;
            margin-bottom: 10px;
        }

        .navigation button {
            margin: 0 5px;
            cursor: pointer;
        }
    </style>
</head>
<body>
    <div id="calendar"></div>

    <script>
        var currentDate = new Date();
        var currentMonth = currentDate.getMonth();
        var currentYear = currentDate.getFullYear();
        var selectedDate = currentDate.getDate();

        function generateCalendar() {
            var calendarDiv = document.getElementById("calendar");

            var currentMonthDays = new Date(currentYear, currentMonth + 1, 0).getDate();

            var table = document.createElement("table");
            var tbody = document.createElement("tbody");

            var weekdayNames = ["일", "월", "화", "수", "목", "금", "토"];
            var weekdayRow = document.createElement("tr");
            for (var i = 0; i < 7; i++) {
                var weekdayCell = document.createElement("th");
                weekdayCell.textContent = weekdayNames[i];
                weekdayRow.appendChild(weekdayCell);
            }
            table.appendChild(weekdayRow);

            var currentDate = new Date(currentYear, currentMonth, 1);
            var currentRow = document.createElement("tr");
            for (var i = 0; i < currentDate.getDay(); i++) {
                var emptyCell = document.createElement("td");
                currentRow.appendChild(emptyCell);
            }

            for (var i = 1; i <= currentMonthDays; i++) {
                if (currentDate.getDay() === 0) {
                    tbody.appendChild(currentRow);
                    currentRow = document.createElement("tr");
                }

                var dateCell = document.createElement("td");
                dateCell.textContent = i;

                if (currentDate.getDate() === selectedDate && currentMonth === currentDate.getMonth() && currentYear === currentDate.getFullYear()) {
                    dateCell.classList.add("selected");
                }

                dateCell.addEventListener("click", function(event) {
                    var selectedCells = document.getElementsByClassName("selected");
                    if (selectedCells.length > 0) {
                        selectedCells[0].classList.remove("selected");
                    }

                    event.target.classList.add("selected");
                    selectedDate = parseInt(event.target.textContent);
                });

                currentRow.appendChild(dateCell);
                currentDate.setDate(currentDate.getDate() + 1);
            }

            tbody.appendChild(currentRow);
            table.appendChild(tbody);

            var headerText = currentYear + "년 " + getMonthName(currentMonth);
            var header = document.createElement("h2");
            header.textContent = headerText;

            var navigationDiv = document.createElement("div");
            navigationDiv.classList.add("navigation");

            var prevButton = document.createElement("button");
            prevButton.textContent = "이전달";
            prevButton.addEventListener("click", function() {
                currentMonth--;
                if (currentMonth < 0) {
                    currentYear--;
                    currentMonth = 11;
                }

                if (currentDate.getMonth() !== currentMonth || currentDate.getFullYear() !== currentYear) {
                    selectedDate = null;
                }

                generateCalendar();
            });
            navigationDiv.appendChild(prevButton);

            var nextButton = document.createElement("button");
            nextButton.textContent = "다음달";
            nextButton.addEventListener("click", function() {
                currentMonth++;
                if (currentMonth > 11) {
                    currentYear++;
                    currentMonth = 0;
                }

                if (currentDate.getMonth() !== currentMonth || currentDate.getFullYear() !== currentYear) {
                    selectedDate = null;
                }

                generateCalendar();
            });
            navigationDiv.appendChild(nextButton);

            calendarDiv.innerHTML = "";
            calendarDiv.appendChild(header);
            calendarDiv.appendChild(navigationDiv);
            calendarDiv.appendChild(table);
        }

        function getMonthName(month) {
            var monthNames = ["1월", "2월", "3월", "4월", "5월", "6월", "7월", "8월", "9월", "10월", "11월", "12월"];
            return monthNames[month];
        }

        generateCalendar();
    </script>
</body>
</html>