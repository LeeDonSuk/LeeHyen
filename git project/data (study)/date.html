<!DOCTYPE html>
<html lang="ko">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>date</title>
</head>

<body>

    <!-- date.html -->


    <script>
        let today = new Date();

        console.log(

            today,
            today.getFullYear() + "년",
            today.getMonth() + 1 + "월",
            today.getDate() + "일",
            ["월", "화", "수", "목", "금", "토", "일",][today.getDay()] + "요일",

            today.getHours() + "시",
            today.getMinutes() + "분",
            today.getSeconds() + "초",

            today.getTime(),

            24 * 60 * 60 * 1000
            //시, 분 ,초 ,밀리초
        )

        let day = new Date('2023-07-11'),
            day2 = new Date('2023-07-14');

        console.log(day <= today && day2 >= today)


        let day3 = new Date('2023-08-15 0:0:0');

        console.log(Math.round(day3 - today) / (24 * 60 * 60 * 1000))


        today.setSeconds((today.getSeconds() + 10))


        console.log(
            today.getSeconds()
        )
    </script>

    <article>
        <h2>하루동안 보지않기 팝업</h2>
        <figure>
            <img src="./imgs/common1.jpg">
        </figure>
        <input type="checkbox" name="x" id="x">
        <label for="x" name="x">하루동안보지않기</label>
        <button>닫기</button>
    </article>

    <style>
        article {
            position: fixed;
            left: 50%;
            top: 50%;
            transform: translate(-50%, -50%);
        }

        figure {
            margin: 0;
        }
    </style>
    <script>
        let popDay = new Date();
        popDay.setSeconds(popDay.getSeconds() + 10);

        const closebtn = document.querySelector('button'),
            checkbox = document.querySelector('input'),
            popup = document.querySelector('article');


        closebtn.onclick = function () {

            cookiesave();
            popup.style.display = 'none';
        }

        function cookiematch() {
            if (document.cookie.match('oneday')) {
                popup.style.display = 'none';
            } else {
                popup.style.display = 'block';
            }

        }
        function cookiesave() {
            if (checkbox.checked) {
                document.cookie = `event=oneday; expires=${popDay.toUTCString()}`;
            }
        }
        cookiematch();
    </script>
</body>

</html>